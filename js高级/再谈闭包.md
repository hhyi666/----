# 闭包

## 1.概念

JS当中，变量的作用域属于函数作用域，在执行函数后作用域就会被清理，内存也会回收，但是由于闭包是建立在一个函数内部的子函数，由于可以访问上层作用域，即使上层作用域执行结束，也不会销毁，这时的子函数就是闭包，拥有越级访问的权限

### 1.1变量的作用域

就是☞变量的有效范围，逐步向外搜索，直到搜索到对象

### 1.2变量的生存周期

- 对于全局变量来说，生存周期是永久的，除非主动销毁
- 一般对于函数的作用域或者局部作用域（let，const），会随着函数的调用的结束而被销毁
- 当函数内部调用外部标变量就产生了闭包，这时候变量的回收策略（CG）

### 1.3内存泄漏

就是在使用一个变量，但是后面这个变量又在子函数进行调用（没有设置成为null），就会产生内存泄漏

### 1.4总结

- 形成：函数中嵌套函数
- 作用：函数内部调用外部变量，构造函数的私有属性，延长变量的声明周期
- 优点：希望一个变量长存在内存中， 模块化代码避免全局污染，私有属性
- 缺点：无法回收引用变量，容易造成内存泄漏